<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout}"
>
    <head>
        <title>Form sản phẩm</title>
    </head>
    <body>
        <div layout:fragment="content">
            <h2
                th:text="${product.id != null ? 'Cập nhật sản phẩm' : 'Thêm sản phẩm mới'}"
            >
                Form
            </h2>

            <form
                th:action="${product.id != null ? '/admin/products/edit/' + product.id : '/admin/products/add'}"
                th:object="${product}"
                method="post"
            >
                <div class="mb-3">
                    <label for="name" class="form-label">Tên sản phẩm</label>
                    <input
                        type="text"
                        class="form-control"
                        th:field="*{name}"
                        th:classappend="${#fields.hasErrors('name') ? 'is-invalid' : ''}"
                    />
                    <div class="invalid-feedback" th:errors="*{name}"></div>
                </div>

                <div class="mb-3">
                    <label for="price" class="form-label">Giá</label>
                    <input
                        type="number"
                        step="0.01"
                        class="form-control"
                        th:field="*{price}"
                        th:classappend="${#fields.hasErrors('price') ? 'is-invalid' : ''}"
                    />
                    <div class="invalid-feedback" th:errors="*{price}"></div>
                </div>

                <div class="mb-3">
                    <label for="category" class="form-label">Danh mục</label>
                    <select
                        class="form-select"
                        th:field="*{category}"
                        th:classappend="${#fields.hasErrors('category') ? 'is-invalid' : ''}"
                    >
                        <option value="">-- Chọn danh mục --</option>
                        <option
                            th:each="cat : ${categories}"
                            th:value="${cat.id}"
                            th:text="${cat.name}"
                        ></option>
                    </select>
                    <div class="invalid-feedback" th:errors="*{category}"></div>
                </div>

                <div class="mb-3 form-check">
                    <input
                        type="checkbox"
                        class="form-check-input"
                        th:field="*{inStock}"
                    />
                    <label class="form-check-label" for="inStock"
                        >Còn hàng</label
                    >
                </div>

                <button type="submit" class="btn btn-primary">Lưu</button>
                <a href="/admin/products" class="btn btn-secondary">Hủy</a>
            </form>
        </div>
    </body>
</html>
